# .husky/pre-commit

# –û—Ç—Ä–∏–º—É—î–º–æ staged —Ñ–∞–π–ª–∏ (–¥–æ–¥–∞–Ω—ñ/–∑–º—ñ–Ω–µ–Ω—ñ) —ñ —Ñ—ñ–ª—å—Ç—Ä—É—î–º–æ —Ç—ñ–ª—å–∫–∏ —Ç—ñ, —â–æ –∑ –∫–æ–¥–æ–º
FILES=$(git diff --cached --name-only --diff-filter=ACMR | grep -E '\.(js|jsx|ts|tsx)$')

if [ -n "$FILES" ]; then
  echo "üîπ Running Prettier..."
  npx prettier --write $FILES --ignore-unknown

  echo "üîπ Running ESLint..."
  npx eslint --fix $FILES
fi

# –û–Ω–æ–≤–ª—é—î–º–æ —ñ–Ω–¥–µ–∫—Å –ø—ñ—Å–ª—è –∞–≤—Ç–æ—Ñ—ñ–∫—Å—ñ–≤
git update-index --again
